<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCOTUS Strategic Engine | Appellate Strategy System</title>
    <meta name="description" content="Adversarial appellate-strategy system for Supreme Court practitioners">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-brand">
            <div class="logo">
                <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 4L4 12V28L20 36L36 28V12L20 4Z" stroke="currentColor" stroke-width="2" />
                    <path d="M20 4V36M4 12L36 28M36 12L4 28" stroke="currentColor" stroke-width="1.5" opacity="0.5" />
                    <circle cx="20" cy="20" r="6" fill="currentColor" />
                </svg>
            </div>
            <div class="brand-text">
                <h1>SCOTUS Strategic Engine</h1>
                <span class="tagline">Adversarial Appellate Strategy System</span>
            </div>
        </div>
        <nav class="header-nav">
            <button class="btn btn-ghost" id="newAnalysisBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 5v14M5 12h14" />
                </svg>
                New Analysis
            </button>
            <button class="btn btn-primary" id="uploadCaseBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                    <polyline points="17 8 12 3 7 8" />
                    <line x1="12" y1="3" x2="12" y2="15" />
                </svg>
                Upload Case
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Sidebar: Executive Dashboard -->
        <aside class="sidebar">
            <div class="dashboard-card" id="executiveDashboard">
                <h2 class="card-title">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" />
                        <path d="M3 9h18M9 21V9" />
                    </svg>
                    Executive Dashboard
                </h2>
                <div class="dashboard-metrics" id="dashboardMetrics">
                    <div class="metric awaiting">
                        <span class="metric-label">Input Tier</span>
                        <span class="metric-value" id="inputTier">—</span>
                    </div>
                    <div class="metric awaiting">
                        <span class="metric-label">Posture</span>
                        <span class="metric-value" id="posture">—</span>
                    </div>
                    <div class="metric awaiting">
                        <span class="metric-label">Risk Level</span>
                        <span class="metric-value risk-indicator" id="riskLevel">—</span>
                    </div>
                    <div class="metric awaiting">
                        <span class="metric-label">DIG Risk</span>
                        <span class="metric-value" id="digRisk">—</span>
                    </div>
                </div>
                <div class="primary-obstacle" id="primaryObstacle">
                    <h3>Primary Obstacle</h3>
                    <p class="awaiting-text">Upload case materials to begin analysis</p>
                </div>
                <div class="rewrite-directive" id="rewriteDirective">
                    <h3>Rewrite Directive</h3>
                    <p class="awaiting-text">—</p>
                </div>
            </div>

            <!-- Justice Simulation Panel -->
            <div class="dashboard-card" id="justicePanel">
                <h2 class="card-title">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="8" r="5" />
                        <path d="M20 21a8 8 0 1 0-16 0" />
                    </svg>
                    Justice Simulation
                </h2>
                <div class="justice-grid" id="justiceGrid">
                    <button class="justice-btn" data-justice="roberts" disabled>
                        <span class="justice-name">Roberts</span>
                        <span class="justice-role">Chief Justice</span>
                    </button>
                    <button class="justice-btn" data-justice="thomas" disabled>
                        <span class="justice-name">Thomas</span>
                        <span class="justice-role">Associate</span>
                    </button>
                    <button class="justice-btn" data-justice="alito" disabled>
                        <span class="justice-name">Alito</span>
                        <span class="justice-role">Associate</span>
                    </button>
                    <button class="justice-btn" data-justice="sotomayor" disabled>
                        <span class="justice-name">Sotomayor</span>
                        <span class="justice-role">Associate</span>
                    </button>
                    <button class="justice-btn" data-justice="kagan" disabled>
                        <span class="justice-name">Kagan</span>
                        <span class="justice-role">Associate</span>
                    </button>
                    <button class="justice-btn" data-justice="gorsuch" disabled>
                        <span class="justice-name">Gorsuch</span>
                        <span class="justice-role">Associate</span>
                    </button>
                    <button class="justice-btn" data-justice="kavanaugh" disabled>
                        <span class="justice-name">Kavanaugh</span>
                        <span class="justice-role">Associate</span>
                    </button>
                    <button class="justice-btn" data-justice="barrett" disabled>
                        <span class="justice-name">Barrett</span>
                        <span class="justice-role">Associate</span>
                    </button>
                    <button class="justice-btn" data-justice="jackson" disabled>
                        <span class="justice-name">Jackson</span>
                        <span class="justice-role">Associate</span>
                    </button>
                </div>
                <button class="btn btn-secondary btn-full" id="fullBenchBtn" disabled>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                        <circle cx="9" cy="7" r="4" />
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                        <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                    </svg>
                    Simulate Full Bench
                </button>
            </div>
        </aside>

        <!-- Main Analysis Area -->
        <section class="analysis-area">
            <!-- Welcome State -->
            <div class="welcome-state" id="welcomeState">
                <div class="welcome-icon">
                    <svg viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M40 10L10 25V55L40 70L70 55V25L40 10Z" stroke="currentColor" stroke-width="2" />
                        <path d="M40 10V70M10 25L70 55M70 25L10 55" stroke="currentColor" stroke-width="1"
                            opacity="0.3" />
                        <circle cx="40" cy="40" r="12" stroke="currentColor" stroke-width="2" />
                        <circle cx="40" cy="40" r="4" fill="currentColor" />
                    </svg>
                </div>
                <h2>SCOTUS Strategic Engine</h2>
                <p>Upload a cert petition, merits brief, or emergency application to begin adversarial analysis.</p>
                <div class="welcome-actions">
                    <button class="btn btn-primary btn-large" id="welcomeUploadBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                            <polyline points="17 8 12 3 7 8" />
                            <line x1="12" y1="3" x2="12" y2="15" />
                        </svg>
                        Upload Case Materials
                    </button>
                    <button class="btn btn-ghost btn-large" id="pasteTextBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" />
                            <rect x="8" y="2" width="8" height="4" rx="1" ry="1" />
                        </svg>
                        Paste Text
                    </button>
                </div>
                <div class="input-tiers">
                    <div class="tier">
                        <span class="tier-label">Tier A</span>
                        <span class="tier-desc">Full petition + Questions Presented + lower-court decision</span>
                    </div>
                    <div class="tier">
                        <span class="tier-label">Tier B</span>
                        <span class="tier-desc">Summaries, excerpts, docket information</span>
                    </div>
                    <div class="tier">
                        <span class="tier-label">Tier C</span>
                        <span class="tier-desc">Case name or docket number only</span>
                    </div>
                </div>

                <!-- Sample Cases Section -->
                <div class="sample-cases-section">
                    <h3 class="sample-cases-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" />
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" />
                        </svg>
                        Or Start with a Sample Case
                    </h3>
                    <div class="sample-cases-grid" id="sampleCasesGrid">
                        <button class="sample-case-card" data-case="louisiana">
                            <div class="sample-case-header">
                                <span class="sample-case-docket">No. 24-109</span>
                                <span class="sample-case-posture">Merits</span>
                            </div>
                            <h4 class="sample-case-name">Louisiana v. Callais</h4>
                            <p class="sample-case-issue">VRA Section 2 · Racial Gerrymandering · Equal Protection</p>
                            <div class="sample-case-qp">Whether intentional creation of a majority-minority district to
                                remedy a VRA violation violates the 14th Amendment</div>
                        </button>
                        <button class="sample-case-card" data-case="trump-tariffs">
                            <div class="sample-case-header">
                                <span class="sample-case-docket">No. 24-892</span>
                                <span class="sample-case-posture">Merits</span>
                            </div>
                            <h4 class="sample-case-name">Trump v. V.O.S. Selections</h4>
                            <p class="sample-case-issue">IEEPA · Tariffs · Nondelegation Doctrine</p>
                            <div class="sample-case-qp">Whether IEEPA authorizes presidential tariffs and whether such
                                authority violates the nondelegation doctrine</div>
                        </button>
                        <button class="sample-case-card" data-case="ftc-removal">
                            <div class="sample-case-header">
                                <span class="sample-case-docket">No. 24-631</span>
                                <span class="sample-case-posture">Merits</span>
                            </div>
                            <h4 class="sample-case-name">Trump v. Slaughter</h4>
                            <p class="sample-case-issue">Removal Power · Separation of Powers · Humphrey's Executor</p>
                            <div class="sample-case-qp">Whether statutory removal protections for FTC commissioners
                                violate the separation of powers</div>
                        </button>
                        <button class="sample-case-card" data-case="williams-reed">
                            <div class="sample-case-header">
                                <span class="sample-case-docket">No. 23-191</span>
                                <span class="sample-case-posture">Merits</span>
                            </div>
                            <h4 class="sample-case-name">Williams v. Reed</h4>
                            <p class="sample-case-issue">Section 1983 · Due Process · State Exhaustion</p>
                            <div class="sample-case-qp">Whether exhaustion of state administrative remedies is required
                                to bring 42 U.S.C. § 1983 claims in state court</div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Interactive Brief Viewer (Hidden initially) -->
            <div class="brief-viewer hidden" id="briefViewer">
                <div class="brief-viewer-header">
                    <div class="brief-viewer-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                            <polyline points="14 2 14 8 20 8" />
                            <line x1="16" y1="13" x2="8" y2="13" />
                            <line x1="16" y1="17" x2="8" y2="17" />
                            <polyline points="10 9 9 9 8 9" />
                        </svg>
                        <h3 id="briefTitle">Case Brief</h3>
                    </div>
                    <div class="brief-viewer-actions">
                        <button class="btn btn-ghost btn-small" id="toggleEditBtn" title="Toggle Edit Mode">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
                            </svg>
                            Edit
                        </button>
                        <button class="btn btn-ghost btn-small" id="collapseBriefBtn" title="Collapse">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="18 15 12 9 6 15" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="brief-content-wrapper" id="briefContentWrapper">
                    <div class="brief-content" id="briefContent">
                        <!-- Brief text with annotations will be rendered here -->
                    </div>
                    <div class="brief-annotations" id="briefAnnotations">
                        <h4>
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10" />
                                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                                <line x1="12" y1="17" x2="12.01" y2="17" />
                            </svg>
                            Justice Feedback
                        </h4>
                        <p class="annotation-hint">Select text in the brief to see potential judicial concerns and
                            suggested rewrites.</p>
                        <div class="annotation-list" id="annotationList">
                            <!-- Annotations will appear here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analysis Results (Hidden initially) -->
            <div class="analysis-results hidden" id="analysisResults">
                <!-- Precedent Architecture -->
                <div class="result-card" id="precedentCard">
                    <h2 class="card-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" />
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" />
                        </svg>
                        Precedent Architecture
                    </h2>
                    <div class="precedent-list" id="precedentList">
                        <!-- Populated dynamically -->
                    </div>
                </div>

                <!-- Strategic Traps -->
                <div class="result-card" id="trapsCard">
                    <h2 class="card-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path
                                d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" />
                            <line x1="12" y1="9" x2="12" y2="13" />
                            <line x1="12" y1="17" x2="12.01" y2="17" />
                        </svg>
                        Strategic Traps & Counters
                    </h2>
                    <div class="traps-list" id="trapsList">
                        <!-- Populated dynamically -->
                    </div>
                </div>

                <!-- Risk Assessment -->
                <div class="result-card" id="riskCard">
                    <h2 class="card-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                        </svg>
                        Risk Assessment
                    </h2>
                    <div class="risk-table" id="riskTable">
                        <!-- Populated dynamically -->
                    </div>
                </div>

                <!-- Justice Questions -->
                <div class="result-card full-width" id="justiceQuestionsCard">
                    <h2 class="card-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10" />
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                            <line x1="12" y1="17" x2="12.01" y2="17" />
                        </svg>
                        Justice-Aware Question Simulation
                    </h2>
                    <div class="justice-questions" id="justiceQuestions">
                        <!-- Populated dynamically -->
                    </div>
                </div>
            </div>

            <!-- Interactive Chat -->
            <div class="chat-panel hidden" id="chatPanel">
                <div class="chat-header">
                    <h3>Interactive Refinement</h3>
                    <button class="btn btn-ghost btn-small" id="minimizeChatBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="4 14 10 14 10 20" />
                            <polyline points="20 10 14 10 14 4" />
                            <line x1="14" y1="10" x2="21" y2="3" />
                            <line x1="3" y1="21" x2="10" y2="14" />
                        </svg>
                    </button>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <!-- Chat messages appear here -->
                </div>
                <div class="chat-input-area">
                    <input type="text" id="chatInput"
                        placeholder="Ask follow-up questions, test hypotheticals, challenge conclusions...">
                    <button class="btn btn-primary" id="sendChatBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13" />
                            <polygon points="22 2 15 22 11 13 2 9 22 2" />
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Floating Chat Toggle Button -->
            <button class="chat-toggle-btn hidden" id="chatToggleBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                </svg>
                <span>Chat</span>
            </button>
        </section>
    </main>

    <!-- Upload Modal -->
    <div class="modal-overlay hidden" id="uploadModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Upload Case Materials</h2>
                <button class="btn btn-ghost modal-close" id="closeModalBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="upload-tabs">
                    <button class="tab-btn active" data-tab="paste">Paste Text</button>
                    <button class="tab-btn" data-tab="upload">Upload PDF</button>
                    <button class="tab-btn" data-tab="docket">Docket Number</button>
                </div>

                <!-- Paste Text Tab -->
                <div class="tab-content active" id="pasteTab">
                    <div class="form-group">
                        <label for="caseTitle">Case Title</label>
                        <input type="text" id="caseTitle" placeholder="e.g., Louisiana v. Callais">
                    </div>
                    <div class="form-group">
                        <label for="postureSel">Posture</label>
                        <select id="postureSel">
                            <option value="auto">Auto-detect</option>
                            <option value="cert">Cert Petition</option>
                            <option value="merits">Merits Brief</option>
                            <option value="emergency">Emergency Application</option>
                            <option value="backtest">Backtest / Verification</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="caseText">Case Materials</label>
                        <textarea id="caseText" rows="12"
                            placeholder="Paste petition text, questions presented, lower-court decision, or any case materials..."></textarea>
                    </div>
                </div>

                <!-- Upload PDF Tab -->
                <div class="tab-content hidden" id="uploadTab">
                    <div class="upload-zone" id="uploadZone">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                            <polyline points="17 8 12 3 7 8" />
                            <line x1="12" y1="3" x2="12" y2="15" />
                        </svg>
                        <p>Drag & drop PDF files here</p>
                        <span>or</span>
                        <button class="btn btn-secondary" id="browseBtn">Browse Files</button>
                        <input type="file" id="fileInput" accept=".pdf" multiple hidden>
                    </div>
                    <div class="uploaded-files hidden" id="uploadedFiles">
                        <h4>Uploaded Files</h4>
                        <ul id="filesList"></ul>
                    </div>
                </div>

                <!-- Docket Number Tab -->
                <div class="tab-content hidden" id="docketTab">
                    <div class="form-group">
                        <label for="docketNumber">Supreme Court Docket Number</label>
                        <input type="text" id="docketNumber" placeholder="e.g., 24-109">
                    </div>
                    <p class="form-hint">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10" />
                            <line x1="12" y1="16" x2="12" y2="12" />
                            <line x1="12" y1="8" x2="12.01" y2="8" />
                        </svg>
                        <strong>Tier C Input:</strong> Docket lookup provides limited analysis. Upload full materials
                        for comprehensive review.
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" id="cancelBtn">Cancel</button>
                <button class="btn btn-primary" id="analyzeBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="5 3 19 12 5 21 5 3" />
                    </svg>
                    Begin Analysis
                </button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay hidden" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h3>Analyzing Case Materials</h3>
            <p id="loadingStatus">Classifying input tier...</p>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>